---
import Calendar from "../icons/Calendario.astro";
import Building from "../icons/Empresa.astro";
import Badge from "../icons/Java.astro";
import { TAGS } from "../icons/TecnologiaData.astro";

const experiencias = [
	{
		puesto: "Desarrollador Full Stack",
		empresa: "Empresa Tecnológica S.A.",
		periodo: "Enero 2023 - Presente",
		descripcion:
			"Desarrollo de aplicaciones web utilizando Java Spring Boot para el backend y JavaScript para el frontend. Implementación de APIs RESTful y mantenimiento de bases de datos SQL Server.",
		tecnologias: [TAGS.JAVA, TAGS.SPRING, TAGS.JS],
	},
	{
		puesto: "Desarrollador Backend",
		empresa: "Consultora Digital",
		periodo: "Marzo 2021 - Diciembre 2022",
		descripcion: "Desarrollo de servicios web y microservicios con Java y Spring Framework. Diseño e implementación de bases de datos MySQL. Integración con APIs de terceros.",
		tecnologias: [TAGS.JAVA, TAGS.SPRING],
	},
	{
		puesto: "Practicante de Desarrollo",
		empresa: "Tech Solutions",
		periodo: "Junio 2020 - Febrero 2021",
		descripcion: "Soporte técnico y desarrollo de componentes frontend con HTML, CSS y JavaScript. Participación en pruebas de calidad y documentación técnica.",
		tecnologias: [TAGS.JAVA, TAGS.SPRING, TAGS.JS],
	},
];
---

<section class="w-full max-w-[900px] mx-auto px-4 sm:px-6 md:px-8 lg:px-0 my-15">
	<h2 class="text-2xl font-bold mb-6 text-left">Experiencia Profesional</h2>
	<p class="opacity-80 mb-6 text-left">Mi trayectoria profesional como desarrollador de software.</p>

	<ol class="md:hidden relative border-s border-dashed border-gray-200 dark:border-gray-700 ms-3">
		{
			experiencias.map((exp, index) => (
				<li class={`${index !== experiencias.length - 1 ? "mb-10" : ""} ms-6`}>
					<span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-100 rounded-full -start-3 ring-8 ring-white dark:ring-gray-900 dark:bg-indigo-900">
						<Badge class="w-4 h-4 text-indigo-800 dark:text-indigo-300" />
					</span>
					<h3 class="flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white">{exp.puesto}</h3>
					<div class="flex flex-col gap-1 mb-2">
						<div class="flex items-center text-sm font-normal text-indigo-300">
							<Building class="w-3.5 h-3.5 me-1.5" />
							{exp.empresa}
						</div>
						<time class="flex items-center text-sm font-normal leading-none text-gray-400 dark:text-gray-500">
							<Calendar class="w-3.5 h-3.5 me-1.5" />
							{exp.periodo}
						</time>
					</div>
					<p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">{exp.descripcion}</p>
					<div class="flex flex-wrap gap-2 mt-4">
						{exp.tecnologias.map((tag) => {
							const Icon = tag.icon || Badge;
							return (
								<span class={`text-xs py-1 px-2 rounded-md flex items-center gap-1 ${tag.class ?? "bg-indigo-950/60 text-indigo-200"}`}>
									<Icon class="size-3 opacity-80" />
									{tag.name}
								</span>
							);
						})}
					</div>
				</li>
			))
		}
	</ol>

	<div class="hidden md:block relative">
		<div class="absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 border-l-2 border-dashed border-gray-200 dark:border-gray-700"></div>
		<div class="relative z-10">
			{
				experiencias.map((exp, index) => (
					<div class="flex items-center justify-center mb-12 w-full">
						<div class={`w-1/2 px-8 ${index % 2 === 0 ? "text-right items-end" : "text-left items-start order-1"} flex flex-col`}>
							<h3 class="flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white">{exp.puesto}</h3>
							<div class={`flex flex-col gap-1 mb-2 ${index % 2 === 0 ? "items-end" : "items-start"}`}>
								<div class={`flex items-center text-sm font-normal text-indigo-300 ${index % 2 === 0 ? "justify-end" : "justify-start"}`}>
									<Building class={`w-3.5 h-3.5 ${index % 2 === 0 ? "ml-1.5 order-1" : "mr-1.5"}`} />
									{exp.empresa}
								</div>
								<time class={`flex items-center text-sm font-normal leading-none text-gray-400 dark:text-gray-500 ${index % 2 === 0 ? "justify-end" : "justify-start"}`}>
									<Calendar class={`w-3.5 h-3.5 ${index % 2 === 0 ? "ml-1.5 order-1" : "mr-1.5"}`} />
									{exp.periodo}
								</time>
							</div>
							<p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">{exp.descripcion}</p>
							<div class={`flex flex-wrap gap-2 mt-4 ${index % 2 === 0 ? "justify-end" : "justify-start"}`}>
								{exp.tecnologias.map((tag) => {
									const Icon = tag.icon || Badge;
									return (
										<span class={`text-xs py-1 px-2 rounded-md flex items-center gap-1 ${tag.class ?? "bg-indigo-950/60 text-indigo-200"}`}>
											<Icon class="size-3 opacity-80" />
											{tag.name}
										</span>
									);
								})}
							</div>
						</div>
						<div class="absolute left-1/2 transform -translate-x-1/2 flex items-center justify-center z-20">
							<div class="bg-indigo-100 rounded-full w-7 h-7 flex items-center justify-center ring-8 ring-white dark:ring-gray-900 dark:bg-indigo-900">
								<Badge class="w-4 h-4 text-indigo-800 dark:text-indigo-300" />
							</div>
						</div>
						<div class="w-1/2 px-8" />
					</div>
				))
			}
		</div>
	</div>
</section>
